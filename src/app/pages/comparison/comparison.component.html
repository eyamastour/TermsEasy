<section class="comparison-page">
  <h1>Platform Comparison</h1>
  <div class="comparison-selectors">
    <label>
      Platform 1:
      <select [(ngModel)]="platformA">
        <option *ngFor="let p of platforms" [value]="p.key">{{ p.label }}</option>
      </select>
    </label>
    <span class="vs">vs</span>
    <label>
      Platform 2:
      <select [(ngModel)]="platformB">
        <option *ngFor="let p of platforms" [value]="p.key">{{ p.label }}</option>
      </select>
    </label>
  </div>
  <div class="comparison-table-wrapper">
    <table class="comparison-table">
      <thead>
        <tr>
          <th>Criterion</th>
          <th>{{ platformALabel }}</th>
          <th>{{ platformBLabel }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let crit of criteria">
          <td>{{ crit.label }}</td>
          <td>
            <ng-container [ngSwitch]="crit.label">
              <ng-container *ngSwitchCase="'Collecte donnÃ©es'">
                <span [ngClass]="{
                  'score-high': crit.a === 'Ã‰levÃ©e',
                  'score-medium': crit.a === 'Moyenne',
                  'score-low': crit.a === 'Faible'
                }">
                  <span *ngIf="crit.a === 'Ã‰levÃ©e'">ğŸ”´</span>
                  <span *ngIf="crit.a === 'Moyenne'">ğŸŸ </span>
                  <span *ngIf="crit.a === 'Faible'">ğŸŸ¢</span>
                  {{ crit.a }}
                </span>
              </ng-container>
              <ng-container *ngSwitchCase="'Suppression compte'">
                <span [ngClass]="{'ok': crit.a === 'Possible', 'nok': crit.a !== 'Possible'}">
                  <span *ngIf="crit.a === 'Possible'">âœ…</span>
                  <span *ngIf="crit.a !== 'Possible'">âŒ</span>
                  {{ crit.a }}
                </span>
              </ng-container>
              <ng-container *ngSwitchCase="'Partage donnÃ©es'">
                <span [ngClass]="{'ok': crit.a === 'Oui', 'nok': crit.a !== 'Oui'}">
                  <span *ngIf="crit.a === 'Oui'">ğŸ”„</span>
                  <span *ngIf="crit.a !== 'Oui'">ğŸš«</span>
                  {{ crit.a }}
                </span>
              </ng-container>
              <ng-container *ngSwitchDefault>
                {{ crit.a }}
              </ng-container>
            </ng-container>
          </td>
          <td>
            <ng-container [ngSwitch]="crit.label">
              <ng-container *ngSwitchCase="'Collecte donnÃ©es'">
                <span [ngClass]="{
                  'score-high': crit.b === 'Ã‰levÃ©e',
                  'score-medium': crit.b === 'Moyenne',
                  'score-low': crit.b === 'Faible'
                }">
                  <span *ngIf="crit.b === 'Ã‰levÃ©e'">ğŸ”´</span>
                  <span *ngIf="crit.b === 'Moyenne'">ğŸŸ </span>
                  <span *ngIf="crit.b === 'Faible'">ğŸŸ¢</span>
                  {{ crit.b }}
                </span>
              </ng-container>
              <ng-container *ngSwitchCase="'Suppression compte'">
                <span [ngClass]="{'ok': crit.b === 'Possible', 'nok': crit.b !== 'Possible'}">
                  <span *ngIf="crit.b === 'Possible'">âœ…</span>
                  <span *ngIf="crit.b !== 'Possible'">âŒ</span>
                  {{ crit.b }}
                </span>
              </ng-container>
              <ng-container *ngSwitchCase="'Partage donnÃ©es'">
                <span [ngClass]="{'ok': crit.b === 'Oui', 'nok': crit.b !== 'Oui'}">
                  <span *ngIf="crit.b === 'Oui'">ğŸ”„</span>
                  <span *ngIf="crit.b !== 'Oui'">ğŸš«</span>
                  {{ crit.b }}
                </span>
              </ng-container>
              <ng-container *ngSwitchDefault>
                {{ crit.b }}
              </ng-container>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
